/***************************************************************************************************************************************************************
 *
 * File system functions, read, write etc.
 *
 * ReadFile - Promise that reads a file.
 *
 **************************************************************************************************************************************************************/


'use strict';


// -------------------------------------------------------------------------------------------------------------------------------------------------------------
// Dependencies
// -------------------------------------------------------------------------------------------------------------------------------------------------------------
import Fs from 'fs';


// -------------------------------------------------------------------------------------------------------------------------------------------------------------
// Local
// -------------------------------------------------------------------------------------------------------------------------------------------------------------
import { Log } from './helper';


/**
 * Promisified Fs.readFile
 *
 * @param  {string} pathToFile - The path to the file which will be read
 *
 * @return {string}            - Resolves the contents of the file
 */
export const ReadFile = ( pathToFile ) => {
	Log.verbose( `Running ReadFile: ${ pathToFile }` );

	return new Promise( ( resolve, reject ) => {

		Fs.readFile( pathToFile, 'utf8', ( error, fileContents ) => {

			if( error && error.code !== 'EEXIST' ) {
				reject( `File not found: ${ pathToFile }` );
			}
			else {
				Log.verbose( `Read: ${ pathToFile }` );
				resolve( fileContents );
			}

		});
	})
}

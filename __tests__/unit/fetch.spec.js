/***************************************************************************************************************************************************************
 *
 * Fetch.js unit tests
 *
 * @file src/fetch.js
 *
 * Tested methods:
 * - Fetch
 *
 **************************************************************************************************************************************************************/


// -------------------------------------------------------------------------------------------------------------------------------------------------------------
// Local
// -------------------------------------------------------------------------------------------------------------------------------------------------------------
import { Fetch } from '../../src/fetch';

const uikitJson = require( './mocks/uikit.json' );

// -------------------------------------------------------------------------------------------------------------------------------------------------------------
// Fetch
// -------------------------------------------------------------------------------------------------------------------------------------------------------------
test('Fetch: should return a string value from a file', () => {
	const url = 'https://raw.githubusercontent.com/govau/furnace/develop/__tests__/unit/mocks/uikit.json';

	return Fetch( url )
		.then( data => expect( data ).toEqual( uikitJson ) )
});


test('Fetch: should return a string value from a file', () => {
	const url = 'abc';

	return Fetch( url )
		.catch( error => expect( error.message ).toBe( `Invalid URI "abc"` ) );
});
